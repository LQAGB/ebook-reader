<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的图书馆 - 在线电子书阅读平台</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <nav class="nav-bar">
                <a href="/" class="nav-link">首页</a>
                <h1>我的图书馆</h1>
            </nav>
        </header>
        
        <main>
            <div class="library-grid">
                <% if (books && books.length > 0) { %>
                    <% books.forEach(function(book) { %>
                        <div class="book-card">
                            <div class="book-cover">
                                <div class="format-badge <%= book.file_type %>"><%= book.file_type %></div>
                                <svg class="file-icon" viewBox="0 0 24 24">
                                    <path d="M14,2H6C4.9,2,4,2.9,4,4v16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8L14,2z"/>
                                </svg>
                            </div>
                            <div class="book-info">
                                <h3 class="book-title"><%= book.original_name %></h3>
                                <p class="book-format">格式: <%= book.file_type.toUpperCase() %></p>
                                <% if (book.last_read) { %>
                                    <p class="last-read">上次阅读: 第<%= book.current_page %>页</p>
                                <% } %>
                                <a href="/read/<%= book.id %>" class="read-btn">开始阅读</a>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div class="empty-library">
                        <svg class="empty-icon" viewBox="0 0 24 24">
                            <path d="M19 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H5V4h14v16z"/>
                            <path d="M7 15h10v2H7zm0-4h10v2H7zm0-4h7v2H7z"/>
                        </svg>
                        <p>图书馆还是空的，快去上传一些电子书吧！</p>
                        <a href="/" class="btn">上传电子书</a>
                    </div>
                <% } %>
            </div>
        </main>
    </div>
</body>
</html> 